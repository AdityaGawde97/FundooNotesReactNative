85f3609827cabb0888814b8b94c72b81
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = HeaderBackButton;

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _MaskedView = _interopRequireDefault(require("../MaskedView"));

var _TouchableItem = _interopRequireDefault(require("../TouchableItem"));

var _useTheme2 = _interopRequireDefault(require("../../../utils/useTheme"));

var _jsxFileName = "/Users/satya/Workspace/Callstack/react-navigation-stack/src/vendor/views/Header/HeaderBackButton.tsx";

function HeaderBackButton(_ref) {
  var disabled = _ref.disabled,
      allowFontScaling = _ref.allowFontScaling,
      backImage = _ref.backImage,
      label = _ref.label,
      labelStyle = _ref.labelStyle,
      _ref$labelVisible = _ref.labelVisible,
      labelVisible = _ref$labelVisible === void 0 ? _reactNative.Platform.OS === 'ios' : _ref$labelVisible,
      onLabelLayout = _ref.onLabelLayout,
      onPress = _ref.onPress,
      customPressColorAndroid = _ref.pressColorAndroid,
      screenLayout = _ref.screenLayout,
      customTintColor = _ref.tintColor,
      titleLayout = _ref.titleLayout,
      _ref$truncatedLabel = _ref.truncatedLabel,
      truncatedLabel = _ref$truncatedLabel === void 0 ? 'Back' : _ref$truncatedLabel;

  var _useTheme = (0, _useTheme2.default)(),
      dark = _useTheme.dark,
      colors = _useTheme.colors;

  var _React$useState = React.useState(undefined),
      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),
      initialLabelWidth = _React$useState2[0],
      setInitialLabelWidth = _React$useState2[1];

  var tintColor = customTintColor !== undefined ? customTintColor : _reactNative.Platform.select({
    ios: colors.primary,
    default: colors.text
  });
  var pressColorAndroid = customPressColorAndroid !== undefined ? customPressColorAndroid : dark ? 'rgba(255, 255, 255, .32)' : 'rgba(0, 0, 0, .32)';

  var handleLabelLayout = function handleLabelLayout(e) {
    onLabelLayout == null ? void 0 : onLabelLayout(e);
    setInitialLabelWidth(e.nativeEvent.layout.x + e.nativeEvent.layout.width);
  };

  var shouldTruncateLabel = function shouldTruncateLabel() {
    return !label || initialLabelWidth && titleLayout && screenLayout && (screenLayout.width - titleLayout.width) / 2 < initialLabelWidth + 26;
  };

  var renderBackImage = function renderBackImage() {
    if (backImage) {
      return backImage({
        tintColor: tintColor
      });
    } else {
      return React.createElement(_reactNative.Image, {
        style: [styles.icon, Boolean(labelVisible) && styles.iconWithLabel, Boolean(tintColor) && {
          tintColor: tintColor
        }],
        source: require('../assets/back-icon.png'),
        fadeDuration: 0,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 75
        }
      });
    }
  };

  var renderLabel = function renderLabel() {
    var leftLabelText = shouldTruncateLabel() ? truncatedLabel : label;

    if (!labelVisible || leftLabelText === undefined) {
      return null;
    }

    var labelElement = React.createElement(_reactNative.View, {
      style: screenLayout ? [styles.labelWrapper, {
        minWidth: screenLayout.width / 2 - 27
      }] : null,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 96
      }
    }, React.createElement(_reactNative.Animated.Text, {
      accessible: false,
      onLayout: leftLabelText === label ? handleLabelLayout : undefined,
      style: [styles.label, tintColor ? {
        color: tintColor
      } : null, labelStyle],
      numberOfLines: 1,
      allowFontScaling: !!allowFontScaling,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 105
      }
    }, leftLabelText));

    if (backImage || _reactNative.Platform.OS !== 'ios') {
      return labelElement;
    }

    return React.createElement(_MaskedView.default, {
      maskElement: React.createElement(_reactNative.View, {
        style: styles.iconMaskContainer,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 134
        }
      }, React.createElement(_reactNative.Image, {
        source: require('../assets/back-icon-mask.png'),
        style: styles.iconMask,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 135
        }
      }), React.createElement(_reactNative.View, {
        style: styles.iconMaskFillerRect,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 139
        }
      })),
      __source: {
        fileName: _jsxFileName,
        lineNumber: 132
      }
    }, labelElement);
  };

  var handlePress = function handlePress() {
    return onPress && requestAnimationFrame(onPress);
  };

  return React.createElement(_TouchableItem.default, {
    disabled: disabled,
    accessible: true,
    accessibilityRole: "button",
    accessibilityComponentType: "button",
    accessibilityLabel: label && label !== 'Back' ? label + ", back" : 'Go back',
    accessibilityTraits: "button",
    testID: "header-back",
    delayPressIn: 0,
    onPress: disabled ? undefined : handlePress,
    pressColor: pressColorAndroid,
    style: [styles.container, disabled && styles.disabled],
    hitSlop: _reactNative.Platform.select({
      ios: undefined,
      default: {
        top: 16,
        right: 16,
        bottom: 16,
        left: 16
      }
    }),
    borderless: true,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 151
    }
  }, React.createElement(React.Fragment, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 171
    }
  }, renderBackImage(), renderLabel()));
}

var styles = _reactNative.StyleSheet.create({
  container: (0, _objectSpread2.default)({
    alignItems: 'center',
    flexDirection: 'row'
  }, _reactNative.Platform.select({
    ios: null,
    default: {
      marginVertical: 3,
      marginHorizontal: 11
    }
  })),
  disabled: {
    opacity: 0.5
  },
  label: {
    fontSize: 17,
    letterSpacing: 0.35
  },
  labelWrapper: {
    flexDirection: 'row',
    alignItems: 'flex-start'
  },
  icon: _reactNative.Platform.select({
    ios: {
      height: 21,
      width: 13,
      marginLeft: 8,
      marginRight: 22,
      marginVertical: 12,
      resizeMode: 'contain',
      transform: [{
        scaleX: _reactNative.I18nManager.isRTL ? -1 : 1
      }]
    },
    default: {
      height: 24,
      width: 24,
      margin: 3,
      resizeMode: 'contain',
      transform: [{
        scaleX: _reactNative.I18nManager.isRTL ? -1 : 1
      }]
    }
  }),
  iconWithLabel: _reactNative.Platform.OS === 'ios' ? {
    marginRight: 6
  } : {},
  iconMaskContainer: {
    flex: 1,
    flexDirection: 'row',
    justifyContent: 'center'
  },
  iconMaskFillerRect: {
    flex: 1,
    backgroundColor: '#000'
  },
  iconMask: {
    height: 21,
    width: 13,
    marginLeft: -14.5,
    marginVertical: 12,
    alignSelf: 'center',
    resizeMode: 'contain',
    transform: [{
      scaleX: _reactNative.I18nManager.isRTL ? -1 : 1
    }]
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhlYWRlckJhY2tCdXR0b24udHN4Il0sIm5hbWVzIjpbImRpc2FibGVkIiwiYWxsb3dGb250U2NhbGluZyIsImJhY2tJbWFnZSIsImxhYmVsIiwibGFiZWxTdHlsZSIsImxhYmVsVmlzaWJsZSIsIlBsYXRmb3JtIiwib25MYWJlbExheW91dCIsIm9uUHJlc3MiLCJwcmVzc0NvbG9yQW5kcm9pZCIsImN1c3RvbVByZXNzQ29sb3JBbmRyb2lkIiwic2NyZWVuTGF5b3V0IiwidGludENvbG9yIiwiY3VzdG9tVGludENvbG9yIiwidGl0bGVMYXlvdXQiLCJ0cnVuY2F0ZWRMYWJlbCIsImRhcmsiLCJjb2xvcnMiLCJpbml0aWFsTGFiZWxXaWR0aCIsInNldEluaXRpYWxMYWJlbFdpZHRoIiwiUmVhY3QiLCJpb3MiLCJkZWZhdWx0IiwiaGFuZGxlTGFiZWxMYXlvdXQiLCJlIiwic2hvdWxkVHJ1bmNhdGVMYWJlbCIsInJlbmRlckJhY2tJbWFnZSIsInN0eWxlcyIsIkJvb2xlYW4iLCJyZXF1aXJlIiwicmVuZGVyTGFiZWwiLCJsZWZ0TGFiZWxUZXh0IiwibGFiZWxFbGVtZW50IiwibWluV2lkdGgiLCJjb2xvciIsImhhbmRsZVByZXNzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiU3R5bGVTaGVldCIsImNvbnRhaW5lciIsImFsaWduSXRlbXMiLCJmbGV4RGlyZWN0aW9uIiwibWFyZ2luVmVydGljYWwiLCJtYXJnaW5Ib3Jpem9udGFsIiwib3BhY2l0eSIsImZvbnRTaXplIiwibGV0dGVyU3BhY2luZyIsImxhYmVsV3JhcHBlciIsImljb24iLCJoZWlnaHQiLCJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInJlc2l6ZU1vZGUiLCJ0cmFuc2Zvcm0iLCJzY2FsZVgiLCJJMThuTWFuYWdlciIsIm1hcmdpbiIsImljb25XaXRoTGFiZWwiLCJpY29uTWFza0NvbnRhaW5lciIsImZsZXgiLCJqdXN0aWZ5Q29udGVudCIsImljb25NYXNrRmlsbGVyUmVjdCIsImJhY2tncm91bmRDb2xvciIsImljb25NYXNrIiwiYWxpZ25TZWxmIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQSxLQUFBLEdBQUEsdUJBQUEsQ0FBQSxPQUFBLENBQUEsT0FBQSxDQUFBLENBQUE7O0FBQ0EsSUFBQSxZQUFBLEdBQUEsT0FBQSxDQUFBLGNBQUEsQ0FBQTs7QUFTQSxJQUFBLFdBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxlQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLGNBQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxrQkFBQSxDQUFBLENBQUE7O0FBQ0EsSUFBQSxVQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEseUJBQUEsQ0FBQSxDQUFBOzs7O0FBS2UsU0FBQSxnQkFBQSxDQUFBLElBQUEsRUFjTDtBQWJSQSxNQUFBQSxRQWFRLEdBQUEsSUFBQSxDQWJSQSxRQUFBQTtBQUFBQSxNQUNBQyxnQkFZUSxHQUFBLElBQUEsQ0FaUkEsZ0JBREFEO0FBQUFBLE1BRUFFLFNBV1EsR0FBQSxJQUFBLENBWFJBLFNBRkFGO0FBQUFBLE1BR0FHLEtBVVEsR0FBQSxJQUFBLENBVlJBLEtBSEFIO0FBQUFBLE1BSUFJLFVBU1EsR0FBQSxJQUFBLENBVFJBLFVBSkFKO0FBQUFBLE1BYVEsaUJBQUEsR0FBQSxJQUFBLENBUlJLLFlBTEFMO0FBQUFBLE1BS0FLLFlBUVEsR0FBQSxpQkFBQSxLQUFBLEtBQUEsQ0FBQSxHQVJPQyxZQUFBQSxDQUFBQSxRQUFBQSxDQUFBQSxFQUFBQSxLQUFnQixLQVF2QixHQUFBLGlCQWJSTjtBQUFBQSxNQU1BTyxhQU9RLEdBQUEsSUFBQSxDQVBSQSxhQU5BUDtBQUFBQSxNQU9BUSxPQU1RLEdBQUEsSUFBQSxDQU5SQSxPQVBBUjtBQUFBQSxNQVFtQlUsdUJBS1gsR0FBQSxJQUFBLENBTFJELGlCQVJBVDtBQUFBQSxNQVNBVyxZQUlRLEdBQUEsSUFBQSxDQUpSQSxZQVRBWDtBQUFBQSxNQVVXYSxlQUdILEdBQUEsSUFBQSxDQUhSRCxTQVZBWjtBQUFBQSxNQVdBYyxXQUVRLEdBQUEsSUFBQSxDQUZSQSxXQVhBZDtBQUFBQSxNQWFRLG1CQUFBLEdBQUEsSUFBQSxDQURSZSxjQVpBZjtBQUFBQSxNQVlBZSxjQUNRLEdBQUEsbUJBQUEsS0FBQSxLQUFBLENBQUEsR0FEUyxNQUNULEdBQUEsbUJBYlJmOztBQWFRLE1BQUEsU0FBQSxHQUNpQixDQUFBLEdBQUEsVUFBQSxDQURqQixPQUNpQixHQURqQjtBQUFBLE1BQ0FnQixJQURBLEdBQUEsU0FBQSxDQUFBLElBQUE7QUFBQSxNQUNNQyxNQUROLEdBQUEsU0FBQSxDQUFBLE1BQUE7O0FBQUEsTUFBQSxlQUFBLEdBRzBDRyxLQUFLLENBQUxBLFFBQUFBLENBSDFDLFNBRzBDQSxDQUgxQztBQUFBLE1BQUEsZ0JBQUEsR0FBQSxDQUFBLEdBQUEsZUFBQSxDQUFBLE9BQUEsRUFBQSxlQUFBLEVBQUEsQ0FBQSxDQUFBO0FBQUEsTUFHREYsaUJBSEMsR0FBQSxnQkFBQSxDQUFBLENBQUEsQ0FBQTtBQUFBLE1BR2tCQyxvQkFIbEIsR0FBQSxnQkFBQSxDQUFBLENBQUEsQ0FBQTs7QUFPUixNQUFNUCxTQUFTLEdBQ2JDLGVBQWUsS0FBZkEsU0FBQUEsR0FBQUEsZUFBQUEsR0FFSVAsWUFBQUEsQ0FBQUEsUUFBQUEsQ0FBQUEsTUFBQUEsQ0FBZ0I7QUFDZGUsSUFBQUEsR0FBRyxFQUFFSixNQUFNLENBREcsT0FBQTtBQUVkSyxJQUFBQSxPQUFPLEVBQUVMLE1BQU0sQ0FMdkI7QUFHc0IsR0FBaEJYLENBSE47QUFRQSxNQUFNRyxpQkFBaUIsR0FDckJDLHVCQUF1QixLQUF2QkEsU0FBQUEsR0FBQUEsdUJBQUFBLEdBRUlNLElBQUksR0FBQSwwQkFBQSxHQUhWLG9CQUFBOztBQU9BLE1BQU1PLGlCQUFpQixHQUFqQkEsU0FBQUEsaUJBQUFBLENBQW9CLENBQXBCQSxFQUE4QztBQUNsRGhCLElBQUFBLGFBQWEsSUFBYkEsSUFBQUEsR0FBQUEsS0FBQUEsQ0FBQUEsR0FBQUEsYUFBYSxDQUFiQSxDQUFhLENBQWJBO0FBRUFZLElBQUFBLG9CQUFvQixDQUFDSyxDQUFDLENBQURBLFdBQUFBLENBQUFBLE1BQUFBLENBQUFBLENBQUFBLEdBQXlCQSxDQUFDLENBQURBLFdBQUFBLENBQUFBLE1BQUFBLENBQTlDTCxLQUFvQixDQUFwQkE7QUFIRixHQUFBOztBQU1BLE1BQU1NLG1CQUFtQixHQUFuQkEsU0FBQUEsbUJBQUFBLEdBQTRCO0FBQ2hDLFdBQ0UsQ0FBQSxLQUFBLElBQ0NQLGlCQUFpQixJQUFqQkEsV0FBQUEsSUFBQUEsWUFBQUEsSUFHQyxDQUFDUCxZQUFZLENBQVpBLEtBQUFBLEdBQXFCRyxXQUFXLENBQWpDLEtBQUEsSUFBQSxDQUFBLEdBQStDSSxpQkFBaUIsR0FMcEUsRUFBQTtBQURGLEdBQUE7O0FBVUEsTUFBTVEsZUFBZSxHQUFmQSxTQUFBQSxlQUFBQSxHQUF3QjtBQUM1QixRQUFBLFNBQUEsRUFBZTtBQUNiLGFBQU94QixTQUFTLENBQUM7QUFBRVUsUUFBQUEsU0FBUyxFQUE1QjtBQUFpQixPQUFELENBQWhCO0FBREYsS0FBQSxNQUVPO0FBQ0wsYUFDRSxLQUFBLENBQUEsYUFBQSxDQUFDLFlBQUEsQ0FBRCxLQUFBLEVBQUE7QUFDRSxRQUFBLEtBQUssRUFBRSxDQUNMZSxNQUFNLENBREQsSUFBQSxFQUVMQyxPQUFPLENBQVBBLFlBQU8sQ0FBUEEsSUFBeUJELE1BQU0sQ0FGMUIsYUFBQSxFQUdMQyxPQUFPLENBQVBBLFNBQU8sQ0FBUEEsSUFBc0I7QUFBRWhCLFVBQUFBLFNBQVMsRUFKckM7QUFJMEIsU0FIakIsQ0FEVDtBQU1FLFFBQUEsTUFBTSxFQUFFaUIsT0FBTyxDQU5qQix5QkFNaUIsQ0FOakI7QUFPRSxRQUFBLFlBQVksRUFQZCxDQUFBO0FBQUEsUUFBQSxRQUFBLEVBQUE7QUFBQSxVQUFBLFFBQUEsRUFBQSxZQUFBO0FBQUEsVUFBQSxVQUFBLEVBREY7QUFDRTtBQUFBLE9BQUEsQ0FERjtBQVlIO0FBaEJELEdBQUE7O0FBa0JBLE1BQU1DLFdBQVcsR0FBWEEsU0FBQUEsV0FBQUEsR0FBb0I7QUFDeEIsUUFBTUMsYUFBYSxHQUFHTixtQkFBbUIsS0FBQSxjQUFBLEdBQXpDLEtBQUE7O0FBRUEsUUFBSSxDQUFBLFlBQUEsSUFBaUJNLGFBQWEsS0FBbEMsU0FBQSxFQUFrRDtBQUNoRCxhQUFBLElBQUE7QUFHRjs7QUFBQSxRQUFNQyxZQUFZLEdBQ2hCLEtBQUEsQ0FBQSxhQUFBLENBQUMsWUFBQSxDQUFELElBQUEsRUFBQTtBQUNFLE1BQUEsS0FBSyxFQUNIckIsWUFBWSxHQUdSLENBQUNnQixNQUFNLENBQVAsWUFBQSxFQUFzQjtBQUFFTSxRQUFBQSxRQUFRLEVBQUV0QixZQUFZLENBQVpBLEtBQUFBLEdBQUFBLENBQUFBLEdBSDFCO0FBR2MsT0FBdEIsQ0FIUSxHQUZoQixJQUFBO0FBQUEsTUFBQSxRQUFBLEVBQUE7QUFBQSxRQUFBLFFBQUEsRUFBQSxZQUFBO0FBQUEsUUFBQSxVQUFBLEVBQUE7QUFBQTtBQUFBLEtBQUEsRUFTRSxLQUFBLENBQUEsYUFBQSxDQUFDLFlBQUEsQ0FBRCxRQUFDLENBQUQsSUFBQSxFQUFBO0FBQ0UsTUFBQSxVQUFVLEVBRFosS0FBQTtBQUVFLE1BQUEsUUFBUSxFQUdOb0IsYUFBYSxLQUFiQSxLQUFBQSxHQUFBQSxpQkFBQUEsR0FMSixTQUFBO0FBT0UsTUFBQSxLQUFLLEVBQUUsQ0FDTEosTUFBTSxDQURELEtBQUEsRUFFTGYsU0FBUyxHQUFHO0FBQUVzQixRQUFBQSxLQUFLLEVBQVY7QUFBRyxPQUFILEdBRkosSUFBQSxFQVBULFVBT1MsQ0FQVDtBQVlFLE1BQUEsYUFBYSxFQVpmLENBQUE7QUFhRSxNQUFBLGdCQUFnQixFQUFFLENBQUMsQ0FickIsZ0JBQUE7QUFBQSxNQUFBLFFBQUEsRUFBQTtBQUFBLFFBQUEsUUFBQSxFQUFBLFlBQUE7QUFBQSxRQUFBLFVBQUEsRUFBQTtBQUFBO0FBQUEsS0FBQSxFQVZKLGFBVUksQ0FURixDQURGOztBQThCQSxRQUFJaEMsU0FBUyxJQUFJSSxZQUFBQSxDQUFBQSxRQUFBQSxDQUFBQSxFQUFBQSxLQUFqQixLQUFBLEVBQXdDO0FBR3RDLGFBQUEsWUFBQTtBQUdGOztBQUFBLFdBQ0UsS0FBQSxDQUFBLGFBQUEsQ0FBQyxXQUFBLENBQUQsT0FBQSxFQUFBO0FBQ0UsTUFBQSxXQUFXLEVBQ1QsS0FBQSxDQUFBLGFBQUEsQ0FBQyxZQUFBLENBQUQsSUFBQSxFQUFBO0FBQU0sUUFBQSxLQUFLLEVBQUVxQixNQUFNLENBQW5CLGlCQUFBO0FBQUEsUUFBQSxRQUFBLEVBQUE7QUFBQSxVQUFBLFFBQUEsRUFBQSxZQUFBO0FBQUEsVUFBQSxVQUFBLEVBQUE7QUFBQTtBQUFBLE9BQUEsRUFDRSxLQUFBLENBQUEsYUFBQSxDQUFDLFlBQUEsQ0FBRCxLQUFBLEVBQUE7QUFDRSxRQUFBLE1BQU0sRUFBRUUsT0FBTyxDQURqQiw4QkFDaUIsQ0FEakI7QUFFRSxRQUFBLEtBQUssRUFBRUYsTUFBTSxDQUZmLFFBQUE7QUFBQSxRQUFBLFFBQUEsRUFBQTtBQUFBLFVBQUEsUUFBQSxFQUFBLFlBQUE7QUFBQSxVQUFBLFVBQUEsRUFERjtBQUNFO0FBQUEsT0FBQSxDQURGLEVBS0UsS0FBQSxDQUFBLGFBQUEsQ0FBQyxZQUFBLENBQUQsSUFBQSxFQUFBO0FBQU0sUUFBQSxLQUFLLEVBQUVBLE1BQU0sQ0FBbkIsa0JBQUE7QUFBQSxRQUFBLFFBQUEsRUFBQTtBQUFBLFVBQUEsUUFBQSxFQUFBLFlBQUE7QUFBQSxVQUFBLFVBQUEsRUFQTjtBQU9NO0FBQUEsT0FBQSxDQUxGLENBRko7QUFBQSxNQUFBLFFBQUEsRUFBQTtBQUFBLFFBQUEsUUFBQSxFQUFBLFlBQUE7QUFBQSxRQUFBLFVBQUEsRUFBQTtBQUFBO0FBQUEsS0FBQSxFQURGLFlBQ0UsQ0FERjtBQTNDRixHQUFBOztBQTREQSxNQUFNUSxXQUFXLEdBQVhBLFNBQUFBLFdBQUFBLEdBQWM7QUFBQSxXQUFNM0IsT0FBTyxJQUFJNEIscUJBQXFCLENBQXRDLE9BQXNDLENBQXRDO0FBQXBCLEdBQUE7O0FBRUEsU0FDRSxLQUFBLENBQUEsYUFBQSxDQUFDLGNBQUEsQ0FBRCxPQUFBLEVBQUE7QUFDRSxJQUFBLFFBQVEsRUFEVixRQUFBO0FBRUUsSUFBQSxVQUFVLEVBRlosSUFBQTtBQUdFLElBQUEsaUJBQWlCLEVBSG5CLFFBQUE7QUFJRSxJQUFBLDBCQUEwQixFQUo1QixRQUFBO0FBS0UsSUFBQSxrQkFBa0IsRUFDaEJqQyxLQUFLLElBQUlBLEtBQUssS0FBZEEsTUFBQUEsR0FBK0JBLEtBQS9CQSxHQUFBQSxRQUFBQSxHQU5KLFNBQUE7QUFRRSxJQUFBLG1CQUFtQixFQVJyQixRQUFBO0FBU0UsSUFBQSxNQUFNLEVBVFIsYUFBQTtBQVVFLElBQUEsWUFBWSxFQVZkLENBQUE7QUFXRSxJQUFBLE9BQU8sRUFBRUgsUUFBUSxHQUFBLFNBQUEsR0FYbkIsV0FBQTtBQVlFLElBQUEsVUFBVSxFQVpaLGlCQUFBO0FBYUUsSUFBQSxLQUFLLEVBQUUsQ0FBQzJCLE1BQU0sQ0FBUCxTQUFBLEVBQW1CM0IsUUFBUSxJQUFJMkIsTUFBTSxDQWI5QyxRQWFTLENBYlQ7QUFjRSxJQUFBLE9BQU8sRUFBRXJCLFlBQUFBLENBQUFBLFFBQUFBLENBQUFBLE1BQUFBLENBQWdCO0FBQ3ZCZSxNQUFBQSxHQUFHLEVBRG9CLFNBQUE7QUFFdkJDLE1BQUFBLE9BQU8sRUFBRTtBQUFFZSxRQUFBQSxHQUFHLEVBQUwsRUFBQTtBQUFXQyxRQUFBQSxLQUFLLEVBQWhCLEVBQUE7QUFBc0JDLFFBQUFBLE1BQU0sRUFBNUIsRUFBQTtBQUFrQ0MsUUFBQUEsSUFBSSxFQWhCbkQ7QUFnQmE7QUFGYyxLQUFoQmxDLENBZFg7QUFrQkUsSUFBQSxVQUFVLEVBbEJaLElBQUE7QUFBQSxJQUFBLFFBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxFQUFBLFlBQUE7QUFBQSxNQUFBLFVBQUEsRUFBQTtBQUFBO0FBQUEsR0FBQSxFQW9CRSxLQUFBLENBQUEsYUFBQSxDQUFDLEtBQUQsQ0FBQSxRQUFBLEVBQUE7QUFBQSxJQUFBLFFBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxFQUFBLFlBQUE7QUFBQSxNQUFBLFVBQUEsRUFBQTtBQUFBO0FBQUEsR0FBQSxFQUNHb0IsZUFESCxFQUFBLEVBRUdJLFdBdkJQLEVBcUJJLENBcEJGLENBREY7QUE2QkY7O0FBQUEsSUFBTUgsTUFBTSxHQUFHYyxZQUFBQSxDQUFBQSxVQUFBQSxDQUFBQSxNQUFBQSxDQUFrQjtBQUMvQkMsRUFBQUEsU0FBUyxFQUFBLENBQUEsR0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBO0FBQ1BDLElBQUFBLFVBQVUsRUFESCxRQUFBO0FBRVBDLElBQUFBLGFBQWEsRUFGTjtBQUFBLEdBQUEsRUFHSnRDLFlBQUFBLENBQUFBLFFBQUFBLENBQUFBLE1BQUFBLENBQWdCO0FBQ2pCZSxJQUFBQSxHQUFHLEVBRGMsSUFBQTtBQUVqQkMsSUFBQUEsT0FBTyxFQUFFO0FBQ1B1QixNQUFBQSxjQUFjLEVBRFAsQ0FBQTtBQUVQQyxNQUFBQSxnQkFBZ0IsRUFSUztBQU1sQjtBQUZRLEdBQWhCeEMsQ0FISSxDQURzQjtBQVkvQk4sRUFBQUEsUUFBUSxFQUFFO0FBQ1IrQyxJQUFBQSxPQUFPLEVBYnNCO0FBWXJCLEdBWnFCO0FBZS9CNUMsRUFBQUEsS0FBSyxFQUFFO0FBQ0w2QyxJQUFBQSxRQUFRLEVBREgsRUFBQTtBQUlMQyxJQUFBQSxhQUFhLEVBbkJnQjtBQWV4QixHQWZ3QjtBQXFCL0JDLEVBQUFBLFlBQVksRUFBRTtBQUdaTixJQUFBQSxhQUFhLEVBSEQsS0FBQTtBQUlaRCxJQUFBQSxVQUFVLEVBekJtQjtBQXFCakIsR0FyQmlCO0FBMkIvQlEsRUFBQUEsSUFBSSxFQUFFN0MsWUFBQUEsQ0FBQUEsUUFBQUEsQ0FBQUEsTUFBQUEsQ0FBZ0I7QUFDcEJlLElBQUFBLEdBQUcsRUFBRTtBQUNIK0IsTUFBQUEsTUFBTSxFQURILEVBQUE7QUFFSEMsTUFBQUEsS0FBSyxFQUZGLEVBQUE7QUFHSEMsTUFBQUEsVUFBVSxFQUhQLENBQUE7QUFJSEMsTUFBQUEsV0FBVyxFQUpSLEVBQUE7QUFLSFYsTUFBQUEsY0FBYyxFQUxYLEVBQUE7QUFNSFcsTUFBQUEsVUFBVSxFQU5QLFNBQUE7QUFPSEMsTUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBRUMsUUFBQUEsTUFBTSxFQUFFQyxZQUFBQSxDQUFBQSxXQUFBQSxDQUFBQSxLQUFBQSxHQUFvQixDQUFwQkEsQ0FBQUEsR0FSSjtBQVFOLE9BQUQ7QUFQUixLQURlO0FBVXBCckMsSUFBQUEsT0FBTyxFQUFFO0FBQ1A4QixNQUFBQSxNQUFNLEVBREMsRUFBQTtBQUVQQyxNQUFBQSxLQUFLLEVBRkUsRUFBQTtBQUdQTyxNQUFBQSxNQUFNLEVBSEMsQ0FBQTtBQUlQSixNQUFBQSxVQUFVLEVBSkgsU0FBQTtBQUtQQyxNQUFBQSxTQUFTLEVBQUUsQ0FBQztBQUFFQyxRQUFBQSxNQUFNLEVBQUVDLFlBQUFBLENBQUFBLFdBQUFBLENBQUFBLEtBQUFBLEdBQW9CLENBQXBCQSxDQUFBQSxHQTFDSztBQTBDZixPQUFEO0FBTEo7QUFWVyxHQUFoQnJELENBM0J5QjtBQTZDL0J1RCxFQUFBQSxhQUFhLEVBQ1h2RCxZQUFBQSxDQUFBQSxRQUFBQSxDQUFBQSxFQUFBQSxLQUFBQSxLQUFBQSxHQUNJO0FBQ0VpRCxJQUFBQSxXQUFXLEVBRmpCakQ7QUFDSSxHQURKQSxHQTlDNkIsRUFBQTtBQW1EL0J3RCxFQUFBQSxpQkFBaUIsRUFBRTtBQUNqQkMsSUFBQUEsSUFBSSxFQURhLENBQUE7QUFFakJuQixJQUFBQSxhQUFhLEVBRkksS0FBQTtBQUdqQm9CLElBQUFBLGNBQWMsRUF0RGU7QUFtRFosR0FuRFk7QUF3RC9CQyxFQUFBQSxrQkFBa0IsRUFBRTtBQUNsQkYsSUFBQUEsSUFBSSxFQURjLENBQUE7QUFFbEJHLElBQUFBLGVBQWUsRUExRGM7QUF3RFgsR0F4RFc7QUE0RC9CQyxFQUFBQSxRQUFRLEVBQUU7QUFDUmYsSUFBQUEsTUFBTSxFQURFLEVBQUE7QUFFUkMsSUFBQUEsS0FBSyxFQUZHLEVBQUE7QUFHUkMsSUFBQUEsVUFBVSxFQUFFLENBSEosSUFBQTtBQUlSVCxJQUFBQSxjQUFjLEVBSk4sRUFBQTtBQUtSdUIsSUFBQUEsU0FBUyxFQUxELFFBQUE7QUFNUlosSUFBQUEsVUFBVSxFQU5GLFNBQUE7QUFPUkMsSUFBQUEsU0FBUyxFQUFFLENBQUM7QUFBRUMsTUFBQUEsTUFBTSxFQUFFQyxZQUFBQSxDQUFBQSxXQUFBQSxDQUFBQSxLQUFBQSxHQUFvQixDQUFwQkEsQ0FBQUEsR0FuRTFCO0FBbUVnQixLQUFEO0FBUEg7QUE1RHFCLENBQWxCbEIsQ0FBZiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIEFuaW1hdGVkLFxuICBJMThuTWFuYWdlcixcbiAgSW1hZ2UsXG4gIFZpZXcsXG4gIFBsYXRmb3JtLFxuICBTdHlsZVNoZWV0LFxuICBMYXlvdXRDaGFuZ2VFdmVudCxcbn0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBNYXNrZWRWaWV3IGZyb20gJy4uL01hc2tlZFZpZXcnO1xuaW1wb3J0IFRvdWNoYWJsZUl0ZW0gZnJvbSAnLi4vVG91Y2hhYmxlSXRlbSc7XG5pbXBvcnQgdXNlVGhlbWUgZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXNlVGhlbWUnO1xuaW1wb3J0IHsgU3RhY2tIZWFkZXJMZWZ0QnV0dG9uUHJvcHMgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbnR5cGUgUHJvcHMgPSBTdGFja0hlYWRlckxlZnRCdXR0b25Qcm9wcztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSGVhZGVyQmFja0J1dHRvbih7XG4gIGRpc2FibGVkLFxuICBhbGxvd0ZvbnRTY2FsaW5nLFxuICBiYWNrSW1hZ2UsXG4gIGxhYmVsLFxuICBsYWJlbFN0eWxlLFxuICBsYWJlbFZpc2libGUgPSBQbGF0Zm9ybS5PUyA9PT0gJ2lvcycsXG4gIG9uTGFiZWxMYXlvdXQsXG4gIG9uUHJlc3MsXG4gIHByZXNzQ29sb3JBbmRyb2lkOiBjdXN0b21QcmVzc0NvbG9yQW5kcm9pZCxcbiAgc2NyZWVuTGF5b3V0LFxuICB0aW50Q29sb3I6IGN1c3RvbVRpbnRDb2xvcixcbiAgdGl0bGVMYXlvdXQsXG4gIHRydW5jYXRlZExhYmVsID0gJ0JhY2snLFxufTogUHJvcHMpIHtcbiAgY29uc3QgeyBkYXJrLCBjb2xvcnMgfSA9IHVzZVRoZW1lKCk7XG5cbiAgY29uc3QgW2luaXRpYWxMYWJlbFdpZHRoLCBzZXRJbml0aWFsTGFiZWxXaWR0aF0gPSBSZWFjdC51c2VTdGF0ZTxcbiAgICB1bmRlZmluZWQgfCBudW1iZXJcbiAgPih1bmRlZmluZWQpO1xuXG4gIGNvbnN0IHRpbnRDb2xvciA9XG4gICAgY3VzdG9tVGludENvbG9yICE9PSB1bmRlZmluZWRcbiAgICAgID8gY3VzdG9tVGludENvbG9yXG4gICAgICA6IFBsYXRmb3JtLnNlbGVjdCh7XG4gICAgICAgICAgaW9zOiBjb2xvcnMucHJpbWFyeSxcbiAgICAgICAgICBkZWZhdWx0OiBjb2xvcnMudGV4dCxcbiAgICAgICAgfSk7XG5cbiAgY29uc3QgcHJlc3NDb2xvckFuZHJvaWQgPVxuICAgIGN1c3RvbVByZXNzQ29sb3JBbmRyb2lkICE9PSB1bmRlZmluZWRcbiAgICAgID8gY3VzdG9tUHJlc3NDb2xvckFuZHJvaWRcbiAgICAgIDogZGFya1xuICAgICAgPyAncmdiYSgyNTUsIDI1NSwgMjU1LCAuMzIpJ1xuICAgICAgOiAncmdiYSgwLCAwLCAwLCAuMzIpJztcblxuICBjb25zdCBoYW5kbGVMYWJlbExheW91dCA9IChlOiBMYXlvdXRDaGFuZ2VFdmVudCkgPT4ge1xuICAgIG9uTGFiZWxMYXlvdXQ/LihlKTtcblxuICAgIHNldEluaXRpYWxMYWJlbFdpZHRoKGUubmF0aXZlRXZlbnQubGF5b3V0LnggKyBlLm5hdGl2ZUV2ZW50LmxheW91dC53aWR0aCk7XG4gIH07XG5cbiAgY29uc3Qgc2hvdWxkVHJ1bmNhdGVMYWJlbCA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgIWxhYmVsIHx8XG4gICAgICAoaW5pdGlhbExhYmVsV2lkdGggJiZcbiAgICAgICAgdGl0bGVMYXlvdXQgJiZcbiAgICAgICAgc2NyZWVuTGF5b3V0ICYmXG4gICAgICAgIChzY3JlZW5MYXlvdXQud2lkdGggLSB0aXRsZUxheW91dC53aWR0aCkgLyAyIDwgaW5pdGlhbExhYmVsV2lkdGggKyAyNilcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckJhY2tJbWFnZSA9ICgpID0+IHtcbiAgICBpZiAoYmFja0ltYWdlKSB7XG4gICAgICByZXR1cm4gYmFja0ltYWdlKHsgdGludENvbG9yIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8SW1hZ2VcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmljb24sXG4gICAgICAgICAgICBCb29sZWFuKGxhYmVsVmlzaWJsZSkgJiYgc3R5bGVzLmljb25XaXRoTGFiZWwsXG4gICAgICAgICAgICBCb29sZWFuKHRpbnRDb2xvcikgJiYgeyB0aW50Q29sb3IgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIHNvdXJjZT17cmVxdWlyZSgnLi4vYXNzZXRzL2JhY2staWNvbi5wbmcnKX1cbiAgICAgICAgICBmYWRlRHVyYXRpb249ezB9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZW5kZXJMYWJlbCA9ICgpID0+IHtcbiAgICBjb25zdCBsZWZ0TGFiZWxUZXh0ID0gc2hvdWxkVHJ1bmNhdGVMYWJlbCgpID8gdHJ1bmNhdGVkTGFiZWwgOiBsYWJlbDtcblxuICAgIGlmICghbGFiZWxWaXNpYmxlIHx8IGxlZnRMYWJlbFRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbGFiZWxFbGVtZW50ID0gKFxuICAgICAgPFZpZXdcbiAgICAgICAgc3R5bGU9e1xuICAgICAgICAgIHNjcmVlbkxheW91dFxuICAgICAgICAgICAgPyAvLyBXZSBtYWtlIHRoZSBidXR0b24gZXh0ZW5kIHRpbGwgdGhlIG1pZGRsZSBvZiB0aGUgc2NyZWVuXG4gICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBpdCBhcHBlYXJzIHRvIGN1dCBvZmYgd2hlbiB0cmFuc2xhdGluZ1xuICAgICAgICAgICAgICBbc3R5bGVzLmxhYmVsV3JhcHBlciwgeyBtaW5XaWR0aDogc2NyZWVuTGF5b3V0LndpZHRoIC8gMiAtIDI3IH1dXG4gICAgICAgICAgICA6IG51bGxcbiAgICAgICAgfVxuICAgICAgPlxuICAgICAgICA8QW5pbWF0ZWQuVGV4dFxuICAgICAgICAgIGFjY2Vzc2libGU9e2ZhbHNlfVxuICAgICAgICAgIG9uTGF5b3V0PXtcbiAgICAgICAgICAgIC8vIFRoaXMgbWVhc3VyZW1lbnQgaXMgdXNlZCB0byBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHRydW5jYXRlIHRoZSBsYWJlbCB3aGVuIGl0IGRvZXNuJ3QgZml0XG4gICAgICAgICAgICAvLyBPbmx5IG1lYXN1cmUgaXQgd2hlbiBsYWJlbCBpcyBub3QgdHJ1bmNhdGVkIGJlY2F1c2Ugd2Ugd2FudCB0aGUgbWVhc3VyZW1lbnQgb2YgZnVsbCBsYWJlbFxuICAgICAgICAgICAgbGVmdExhYmVsVGV4dCA9PT0gbGFiZWwgPyBoYW5kbGVMYWJlbExheW91dCA6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmxhYmVsLFxuICAgICAgICAgICAgdGludENvbG9yID8geyBjb2xvcjogdGludENvbG9yIH0gOiBudWxsLFxuICAgICAgICAgICAgbGFiZWxTdHlsZSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIG51bWJlck9mTGluZXM9ezF9XG4gICAgICAgICAgYWxsb3dGb250U2NhbGluZz17ISFhbGxvd0ZvbnRTY2FsaW5nfVxuICAgICAgICA+XG4gICAgICAgICAge2xlZnRMYWJlbFRleHR9XG4gICAgICAgIDwvQW5pbWF0ZWQuVGV4dD5cbiAgICAgIDwvVmlldz5cbiAgICApO1xuXG4gICAgaWYgKGJhY2tJbWFnZSB8fCBQbGF0Zm9ybS5PUyAhPT0gJ2lvcycpIHtcbiAgICAgIC8vIFdoZW4gYSBjdXN0b20gYmFja2ltYWdlIGlzIHNwZWNpZmllZCwgd2UgY2FuJ3QgbWFzayB0aGUgbGFiZWxcbiAgICAgIC8vIE90aGVyd2lzZSB0aGVyZSBtaWdodCBiZSB3ZWlyZCBlZmZlY3QgZHVlIHRvIG91ciBtYXNrIG5vdCBiZWluZyB0aGUgc2FtZSBhcyB0aGUgaW1hZ2VcbiAgICAgIHJldHVybiBsYWJlbEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNYXNrZWRWaWV3XG4gICAgICAgIG1hc2tFbGVtZW50PXtcbiAgICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmljb25NYXNrQ29udGFpbmVyfT5cbiAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICBzb3VyY2U9e3JlcXVpcmUoJy4uL2Fzc2V0cy9iYWNrLWljb24tbWFzay5wbmcnKX1cbiAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy5pY29uTWFza31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmljb25NYXNrRmlsbGVyUmVjdH0gLz5cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIH1cbiAgICAgID5cbiAgICAgICAge2xhYmVsRWxlbWVudH1cbiAgICAgIDwvTWFza2VkVmlldz5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVByZXNzID0gKCkgPT4gb25QcmVzcyAmJiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUob25QcmVzcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8VG91Y2hhYmxlSXRlbVxuICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgYWNjZXNzaWJsZVxuICAgICAgYWNjZXNzaWJpbGl0eVJvbGU9XCJidXR0b25cIlxuICAgICAgYWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGU9XCJidXR0b25cIlxuICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXtcbiAgICAgICAgbGFiZWwgJiYgbGFiZWwgIT09ICdCYWNrJyA/IGAke2xhYmVsfSwgYmFja2AgOiAnR28gYmFjaydcbiAgICAgIH1cbiAgICAgIGFjY2Vzc2liaWxpdHlUcmFpdHM9XCJidXR0b25cIlxuICAgICAgdGVzdElEPVwiaGVhZGVyLWJhY2tcIlxuICAgICAgZGVsYXlQcmVzc0luPXswfVxuICAgICAgb25QcmVzcz17ZGlzYWJsZWQgPyB1bmRlZmluZWQgOiBoYW5kbGVQcmVzc31cbiAgICAgIHByZXNzQ29sb3I9e3ByZXNzQ29sb3JBbmRyb2lkfVxuICAgICAgc3R5bGU9e1tzdHlsZXMuY29udGFpbmVyLCBkaXNhYmxlZCAmJiBzdHlsZXMuZGlzYWJsZWRdfVxuICAgICAgaGl0U2xvcD17UGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgICAgaW9zOiB1bmRlZmluZWQsXG4gICAgICAgIGRlZmF1bHQ6IHsgdG9wOiAxNiwgcmlnaHQ6IDE2LCBib3R0b206IDE2LCBsZWZ0OiAxNiB9LFxuICAgICAgfSl9XG4gICAgICBib3JkZXJsZXNzXG4gICAgPlxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICB7cmVuZGVyQmFja0ltYWdlKCl9XG4gICAgICAgIHtyZW5kZXJMYWJlbCgpfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICA8L1RvdWNoYWJsZUl0ZW0+XG4gICk7XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgY29udGFpbmVyOiB7XG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgLi4uUGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgIGlvczogbnVsbCxcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgbWFyZ2luVmVydGljYWw6IDMsXG4gICAgICAgIG1hcmdpbkhvcml6b250YWw6IDExLFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSxcbiAgZGlzYWJsZWQ6IHtcbiAgICBvcGFjaXR5OiAwLjUsXG4gIH0sXG4gIGxhYmVsOiB7XG4gICAgZm9udFNpemU6IDE3LFxuICAgIC8vIFRpdGxlIGFuZCBiYWNrIGxhYmVsIGFyZSBhIGJpdCBkaWZmZXJlbnQgd2lkdGggZHVlIHRvIHRpdGxlIGJlaW5nIGJvbGRcbiAgICAvLyBBZGp1c3RpbmcgdGhlIGxldHRlclNwYWNpbmcgbWFrZXMgdGhlbSBjb2luY2lkZSBiZXR0ZXJcbiAgICBsZXR0ZXJTcGFjaW5nOiAwLjM1LFxuICB9LFxuICBsYWJlbFdyYXBwZXI6IHtcbiAgICAvLyBUaGVzZSBzdHlsZXMgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgbGFiZWwgZG9lc24ndCBmaWxsIHRoZSBhdmFpbGFibGUgc3BhY2VcbiAgICAvLyBPdGhlcndpc2UgaXQgbWVzc2VzIHdpdGggdGhlIG1lYXN1cmVtZW50IG9mIHRoZSBsYWJlbFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyxcbiAgfSxcbiAgaWNvbjogUGxhdGZvcm0uc2VsZWN0KHtcbiAgICBpb3M6IHtcbiAgICAgIGhlaWdodDogMjEsXG4gICAgICB3aWR0aDogMTMsXG4gICAgICBtYXJnaW5MZWZ0OiA4LFxuICAgICAgbWFyZ2luUmlnaHQ6IDIyLFxuICAgICAgbWFyZ2luVmVydGljYWw6IDEyLFxuICAgICAgcmVzaXplTW9kZTogJ2NvbnRhaW4nLFxuICAgICAgdHJhbnNmb3JtOiBbeyBzY2FsZVg6IEkxOG5NYW5hZ2VyLmlzUlRMID8gLTEgOiAxIH1dLFxuICAgIH0sXG4gICAgZGVmYXVsdDoge1xuICAgICAgaGVpZ2h0OiAyNCxcbiAgICAgIHdpZHRoOiAyNCxcbiAgICAgIG1hcmdpbjogMyxcbiAgICAgIHJlc2l6ZU1vZGU6ICdjb250YWluJyxcbiAgICAgIHRyYW5zZm9ybTogW3sgc2NhbGVYOiBJMThuTWFuYWdlci5pc1JUTCA/IC0xIDogMSB9XSxcbiAgICB9LFxuICB9KSxcbiAgaWNvbldpdGhMYWJlbDpcbiAgICBQbGF0Zm9ybS5PUyA9PT0gJ2lvcydcbiAgICAgID8ge1xuICAgICAgICAgIG1hcmdpblJpZ2h0OiA2LFxuICAgICAgICB9XG4gICAgICA6IHt9LFxuICBpY29uTWFza0NvbnRhaW5lcjoge1xuICAgIGZsZXg6IDEsXG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICB9LFxuICBpY29uTWFza0ZpbGxlclJlY3Q6IHtcbiAgICBmbGV4OiAxLFxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAnLFxuICB9LFxuICBpY29uTWFzazoge1xuICAgIGhlaWdodDogMjEsXG4gICAgd2lkdGg6IDEzLFxuICAgIG1hcmdpbkxlZnQ6IC0xNC41LFxuICAgIG1hcmdpblZlcnRpY2FsOiAxMixcbiAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgIHJlc2l6ZU1vZGU6ICdjb250YWluJyxcbiAgICB0cmFuc2Zvcm06IFt7IHNjYWxlWDogSTE4bk1hbmFnZXIuaXNSVEwgPyAtMSA6IDEgfV0sXG4gIH0sXG59KTtcbiJdfQ==