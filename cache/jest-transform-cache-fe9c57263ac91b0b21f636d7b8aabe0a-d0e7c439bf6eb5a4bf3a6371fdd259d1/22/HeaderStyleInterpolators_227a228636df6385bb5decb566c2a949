f91cdaea1d0ea63cebdcce7b4adb8996
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.forUIKit = forUIKit;
exports.forFade = forFade;
exports.forSlide = forSlide;
exports.forNoAnimation = forNoAnimation;

var _reactNative = require("react-native");

var add = _reactNative.Animated.add;

function forUIKit(_ref) {
  var current = _ref.current,
      next = _ref.next,
      layouts = _ref.layouts;
  var defaultOffset = 100;
  var leftSpacing = 27;
  var leftLabelOffset = layouts.leftLabel ? (layouts.screen.width - layouts.leftLabel.width) / 2 - leftSpacing : defaultOffset;
  var titleLeftOffset = layouts.title ? (layouts.screen.width - layouts.title.width) / 2 - leftSpacing : defaultOffset;
  var rightOffset = layouts.screen.width / 4;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  return {
    leftButtonStyle: {
      opacity: progress.interpolate({
        inputRange: [0.3, 1, 1.5],
        outputRange: [0, 1, 0]
      })
    },
    leftLabelStyle: {
      transform: [{
        translateX: progress.interpolate({
          inputRange: [0, 1, 2],
          outputRange: _reactNative.I18nManager.isRTL ? [-rightOffset, 0, leftLabelOffset] : [leftLabelOffset, 0, -rightOffset]
        })
      }]
    },
    rightButtonStyle: {
      opacity: progress.interpolate({
        inputRange: [0.3, 1, 1.5],
        outputRange: [0, 1, 0]
      })
    },
    titleStyle: {
      opacity: progress.interpolate({
        inputRange: [0, 0.4, 1, 1.5],
        outputRange: [0, 0.1, 1, 0]
      }),
      transform: [{
        translateX: progress.interpolate({
          inputRange: [0.5, 1, 2],
          outputRange: _reactNative.I18nManager.isRTL ? [-titleLeftOffset, 0, rightOffset] : [rightOffset, 0, -titleLeftOffset]
        })
      }]
    },
    backgroundStyle: {
      transform: [{
        translateX: progress.interpolate({
          inputRange: [0, 1, 2],
          outputRange: _reactNative.I18nManager.isRTL ? [-layouts.screen.width, 0, layouts.screen.width] : [layouts.screen.width, 0, -layouts.screen.width]
        })
      }]
    }
  };
}

function forFade(_ref2) {
  var current = _ref2.current,
      next = _ref2.next;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var opacity = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: [0, 1, 0]
  });
  return {
    leftButtonStyle: {
      opacity: opacity
    },
    rightButtonStyle: {
      opacity: opacity
    },
    titleStyle: {
      opacity: opacity
    },
    backgroundStyle: {
      opacity: progress.interpolate({
        inputRange: [0, 1, 1.9, 2],
        outputRange: [0, 1, 1, 0]
      })
    }
  };
}

function forSlide(_ref3) {
  var current = _ref3.current,
      next = _ref3.next,
      screen = _ref3.layouts.screen;
  var progress = add(current.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }), next ? next.progress.interpolate({
    inputRange: [0, 1],
    outputRange: [0, 1],
    extrapolate: 'clamp'
  }) : 0);
  var translateX = progress.interpolate({
    inputRange: [0, 1, 2],
    outputRange: _reactNative.I18nManager.isRTL ? [-screen.width, 0, screen.width] : [screen.width, 0, -screen.width]
  });
  var transform = [{
    translateX: translateX
  }];
  return {
    leftButtonStyle: {
      transform: transform
    },
    rightButtonStyle: {
      transform: transform
    },
    titleStyle: {
      transform: transform
    },
    backgroundStyle: {
      transform: transform
    }
  };
}

function forNoAnimation() {
  return {};
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhlYWRlclN0eWxlSW50ZXJwb2xhdG9ycy50c3giXSwibmFtZXMiOlsiYWRkIiwiQW5pbWF0ZWQiLCJjdXJyZW50IiwibmV4dCIsImxheW91dHMiLCJkZWZhdWx0T2Zmc2V0IiwibGVmdFNwYWNpbmciLCJsZWZ0TGFiZWxPZmZzZXQiLCJ0aXRsZUxlZnRPZmZzZXQiLCJyaWdodE9mZnNldCIsInByb2dyZXNzIiwiaW5wdXRSYW5nZSIsIm91dHB1dFJhbmdlIiwiZXh0cmFwb2xhdGUiLCJsZWZ0QnV0dG9uU3R5bGUiLCJvcGFjaXR5IiwibGVmdExhYmVsU3R5bGUiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGVYIiwiSTE4bk1hbmFnZXIiLCJyaWdodEJ1dHRvblN0eWxlIiwidGl0bGVTdHlsZSIsImJhY2tncm91bmRTdHlsZSIsInNjcmVlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBLFlBQUEsR0FBQSxPQUFBLENBQUEsY0FBQSxDQUFBOztBQU1RQSxJQUFBQSxHLEdBQVFDLFlBQUFBLENBQUFBLFFBQUFBLENBQVJELEdBQUFBOztBQUtELFNBQUEsUUFBQSxDQUFBLElBQUEsRUFJeUQ7QUFIOURFLE1BQUFBLE9BRzhELEdBQUEsSUFBQSxDQUg5REEsT0FBQUE7QUFBQUEsTUFDQUMsSUFFOEQsR0FBQSxJQUFBLENBRjlEQSxJQURBRDtBQUFBQSxNQUVBRSxPQUM4RCxHQUFBLElBQUEsQ0FEOURBLE9BRkFGO0FBSUEsTUFBTUcsYUFBYSxHQUFuQixHQUFBO0FBQ0EsTUFBTUMsV0FBVyxHQUFqQixFQUFBO0FBT0EsTUFBTUMsZUFBZSxHQUFHSCxPQUFPLENBQVBBLFNBQUFBLEdBQ3BCLENBQUNBLE9BQU8sQ0FBUEEsTUFBQUEsQ0FBQUEsS0FBQUEsR0FBdUJBLE9BQU8sQ0FBUEEsU0FBQUEsQ0FBeEIsS0FBQSxJQUFBLENBQUEsR0FEb0JBLFdBQUFBLEdBQXhCLGFBQUE7QUFHQSxNQUFNSSxlQUFlLEdBQUdKLE9BQU8sQ0FBUEEsS0FBQUEsR0FDcEIs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UyxFQUZ4QjtBQUVhLEtBRmI7QUFHTEksSUFBQUEsVUFBVSxFQUFFO0FBQUVKLE1BQUFBLFNBQVMsRUFIbEI7QUFHTyxLQUhQO0FBSUxLLElBQUFBLGVBQWUsRUFBRTtBQUFFTCxNQUFBQSxTQUFTLEVBSjlCO0FBSW1CO0FBSlosR0FBUDtBQVFLOztBQUFBLFNBQUEsY0FBQSxHQUF3RDtBQUM3RCxTQUFBLEVBQUE7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFuaW1hdGVkLCBJMThuTWFuYWdlciB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQge1xuICBTdGFja0hlYWRlckludGVycG9sYXRpb25Qcm9wcyxcbiAgU3RhY2tIZWFkZXJJbnRlcnBvbGF0ZWRTdHlsZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCB7IGFkZCB9ID0gQW5pbWF0ZWQ7XG5cbi8qKlxuICogU3RhbmRhcmQgVUlLaXQgc3R5bGUgYW5pbWF0aW9uIGZvciB0aGUgaGVhZGVyIHdoZXJlIHRoZSB0aXRsZSBmYWRlcyBpbnRvIHRoZSBiYWNrIGJ1dHRvbiBsYWJlbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvclVJS2l0KHtcbiAgY3VycmVudCxcbiAgbmV4dCxcbiAgbGF5b3V0cyxcbn06IFN0YWNrSGVhZGVySW50ZXJwb2xhdGlvblByb3BzKTogU3RhY2tIZWFkZXJJbnRlcnBvbGF0ZWRTdHlsZSB7XG4gIGNvbnN0IGRlZmF1bHRPZmZzZXQgPSAxMDA7XG4gIGNvbnN0IGxlZnRTcGFjaW5nID0gMjc7XG5cbiAgLy8gVGhlIHRpdGxlIGFuZCBiYWNrIGJ1dHRvbiB0aXRsZSBzaG91bGQgY3Jvc3MtZmFkZSB0byBlYWNoIG90aGVyXG4gIC8vIFdoZW4gc2NyZWVuIGlzIGZ1bGx5IG9wZW4sIHRoZSB0aXRsZSBzaG91bGQgYmUgaW4gY2VudGVyLCBhbmQgYmFjayB0aXRsZSBzaG91bGQgYmUgb24gbGVmdFxuICAvLyBXaGVuIHNjcmVlbiBpcyBjbG9zaW5nLCB0aGUgcHJldmlvdXMgdGl0bGUgd2lsbCBhbmltYXRlIHRvIGJhY2sgdGl0bGUncyBwb3NpdGlvblxuICAvLyBBbmQgYmFjayB0aXRsZSB3aWxsIGFuaW1hdGUgdG8gdGl0bGUncyBwb3NpdGlvblxuICAvLyBXZSBhY2hpZXZlIHRoaXMgYnkgY2FsY3VsYXRpbmcgdGhlIG9mZnNldHMgbmVlZGVkIHRvIHRyYW5zbGF0ZSB0aXRsZSB0byBiYWNrIHRpdGxlJ3MgcG9zaXRpb24gYW5kIHZpY2UtdmVyc2FcbiAgY29uc3QgbGVmdExhYmVsT2Zmc2V0ID0gbGF5b3V0cy5sZWZ0TGFiZWxcbiAgICA/IChsYXlvdXRzLnNjcmVlbi53aWR0aCAtIGxheW91dHMubGVmdExhYmVsLndpZHRoKSAvIDIgLSBsZWZ0U3BhY2luZ1xuICAgIDogZGVmYXVsdE9mZnNldDtcbiAgY29uc3QgdGl0bGVMZWZ0T2Zmc2V0ID0gbGF5b3V0cy50aXRsZVxuICAgID8gKGxheW91dHMuc2NyZWVuLndpZHRoIC0gbGF5b3V0cy50aXRsZS53aWR0aCkgLyAyIC0gbGVmdFNwYWNpbmdcbiAgICA6IGRlZmF1bHRPZmZzZXQ7XG5cbiAgLy8gV2hlbiB0aGUgY3VycmVudCB0aXRsZSBpcyBhbmltYXRpbmcgdG8gcmlnaHQsIGl0IGlzIGNlbnRlcmVkIGluIHRoZSByaWdodCBoYWxmIG9mIHNjcmVlbiBpbiBtaWRkbGUgb2YgdHJhbnNpdGlvblxuICAvLyBUaGUgYmFjayB0aXRsZSBhbHNvIGFuaW1hdGVzIGluIGZyb20gdGhpcyBwb3NpdGlvblxuICBjb25zdCByaWdodE9mZnNldCA9IGxheW91dHMuc2NyZWVuLndpZHRoIC8gNDtcblxuICBjb25zdCBwcm9ncmVzcyA9IGFkZChcbiAgICBjdXJyZW50LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICB9KSxcbiAgICBuZXh0XG4gICAgICA/IG5leHQucHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgICAgICB9KVxuICAgICAgOiAwXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBsZWZ0QnV0dG9uU3R5bGU6IHtcbiAgICAgIG9wYWNpdHk6IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgICAgaW5wdXRSYW5nZTogWzAuMywgMSwgMS41XSxcbiAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxLCAwXSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgbGVmdExhYmVsU3R5bGU6IHtcbiAgICAgIHRyYW5zZm9ybTogW1xuICAgICAgICB7XG4gICAgICAgICAgdHJhbnNsYXRlWDogcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDEsIDJdLFxuICAgICAgICAgICAgb3V0cHV0UmFuZ2U6IEkxOG5NYW5hZ2VyLmlzUlRMXG4gICAgICAgICAgICAgID8gWy1yaWdodE9mZnNldCwgMCwgbGVmdExhYmVsT2Zmc2V0XVxuICAgICAgICAgICAgICA6IFtsZWZ0TGFiZWxPZmZzZXQsIDAsIC1yaWdodE9mZnNldF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgcmlnaHRCdXR0b25TdHlsZToge1xuICAgICAgb3BhY2l0eTogcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICBpbnB1dFJhbmdlOiBbMC4zLCAxLCAxLjVdLFxuICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDEsIDBdLFxuICAgICAgfSksXG4gICAgfSxcbiAgICB0aXRsZVN0eWxlOiB7XG4gICAgICBvcGFjaXR5OiBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgIGlucHV0UmFuZ2U6IFswLCAwLjQsIDEsIDEuNV0sXG4gICAgICAgIG91dHB1dFJhbmdlOiBbMCwgMC4xLCAxLCAwXSxcbiAgICAgIH0pLFxuICAgICAgdHJhbnNmb3JtOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0cmFuc2xhdGVYOiBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFJhbmdlOiBbMC41LCAxLCAyXSxcbiAgICAgICAgICAgIG91dHB1dFJhbmdlOiBJMThuTWFuYWdlci5pc1JUTFxuICAgICAgICAgICAgICA/IFstdGl0bGVMZWZ0T2Zmc2V0LCAwLCByaWdodE9mZnNldF1cbiAgICAgICAgICAgICAgOiBbcmlnaHRPZmZzZXQsIDAsIC10aXRsZUxlZnRPZmZzZXRdLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIGJhY2tncm91bmRTdHlsZToge1xuICAgICAgdHJhbnNmb3JtOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0cmFuc2xhdGVYOiBwcm9ncmVzcy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMSwgMl0sXG4gICAgICAgICAgICBvdXRwdXRSYW5nZTogSTE4bk1hbmFnZXIuaXNSVExcbiAgICAgICAgICAgICAgPyBbLWxheW91dHMuc2NyZWVuLndpZHRoLCAwLCBsYXlvdXRzLnNjcmVlbi53aWR0aF1cbiAgICAgICAgICAgICAgOiBbbGF5b3V0cy5zY3JlZW4ud2lkdGgsIDAsIC1sYXlvdXRzLnNjcmVlbi53aWR0aF0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIH07XG59XG5cbi8qKlxuICogU2ltcGxlIGZhZGUgYW5pbWF0aW9uIGZvciB0aGUgaGVhZGVyIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yRmFkZSh7XG4gIGN1cnJlbnQsXG4gIG5leHQsXG59OiBTdGFja0hlYWRlckludGVycG9sYXRpb25Qcm9wcyk6IFN0YWNrSGVhZGVySW50ZXJwb2xhdGVkU3R5bGUge1xuICBjb25zdCBwcm9ncmVzcyA9IGFkZChcbiAgICBjdXJyZW50LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICB9KSxcbiAgICBuZXh0XG4gICAgICA/IG5leHQucHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgICAgICB9KVxuICAgICAgOiAwXG4gICk7XG5cbiAgY29uc3Qgb3BhY2l0eSA9IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICBpbnB1dFJhbmdlOiBbMCwgMSwgMl0sXG4gICAgb3V0cHV0UmFuZ2U6IFswLCAxLCAwXSxcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBsZWZ0QnV0dG9uU3R5bGU6IHsgb3BhY2l0eSB9LFxuICAgIHJpZ2h0QnV0dG9uU3R5bGU6IHsgb3BhY2l0eSB9LFxuICAgIHRpdGxlU3R5bGU6IHsgb3BhY2l0eSB9LFxuICAgIGJhY2tncm91bmRTdHlsZToge1xuICAgICAgb3BhY2l0eTogcHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMSwgMS45LCAyXSxcbiAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxLCAxLCAwXSxcbiAgICAgIH0pLFxuICAgIH0sXG4gIH07XG59XG5cbi8qKlxuICogU2ltcGxlIHRyYW5zbGF0ZSBhbmltYXRpb24gdG8gdHJhbnNsYXRlIHRoZSBoZWFkZXIgYWxvbmcgd2l0aCB0aGUgc2xpZGluZyBzY3JlZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JTbGlkZSh7XG4gIGN1cnJlbnQsXG4gIG5leHQsXG4gIGxheW91dHM6IHsgc2NyZWVuIH0sXG59OiBTdGFja0hlYWRlckludGVycG9sYXRpb25Qcm9wcyk6IFN0YWNrSGVhZGVySW50ZXJwb2xhdGVkU3R5bGUge1xuICBjb25zdCBwcm9ncmVzcyA9IGFkZChcbiAgICBjdXJyZW50LnByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgIG91dHB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICBleHRyYXBvbGF0ZTogJ2NsYW1wJyxcbiAgICB9KSxcbiAgICBuZXh0XG4gICAgICA/IG5leHQucHJvZ3Jlc3MuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICBvdXRwdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgIGV4dHJhcG9sYXRlOiAnY2xhbXAnLFxuICAgICAgICB9KVxuICAgICAgOiAwXG4gICk7XG5cbiAgY29uc3QgdHJhbnNsYXRlWCA9IHByb2dyZXNzLmludGVycG9sYXRlKHtcbiAgICBpbnB1dFJhbmdlOiBbMCwgMSwgMl0sXG4gICAgb3V0cHV0UmFuZ2U6IEkxOG5NYW5hZ2VyLmlzUlRMXG4gICAgICA/IFstc2NyZWVuLndpZHRoLCAwLCBzY3JlZW4ud2lkdGhdXG4gICAgICA6IFtzY3JlZW4ud2lkdGgsIDAsIC1zY3JlZW4ud2lkdGhdLFxuICB9KTtcblxuICBjb25zdCB0cmFuc2Zvcm0gPSBbeyB0cmFuc2xhdGVYIH1dO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdEJ1dHRvblN0eWxlOiB7IHRyYW5zZm9ybSB9LFxuICAgIHJpZ2h0QnV0dG9uU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gICAgdGl0bGVTdHlsZTogeyB0cmFuc2Zvcm0gfSxcbiAgICBiYWNrZ3JvdW5kU3R5bGU6IHsgdHJhbnNmb3JtIH0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JOb0FuaW1hdGlvbigpOiBTdGFja0hlYWRlckludGVycG9sYXRlZFN0eWxlIHtcbiAgcmV0dXJuIHt9O1xufVxuIl19