{"version":3,"sources":["AuthServices.js"],"names":["emailExistance","email","ifCallback","elseCallback","firebase","auth","fetchSignInMethodsForEmail","then","signInMethods","indexOf","EmailAuthProvider","EMAIL_PASSWORD_SIGN_IN_METHOD","errors","catch","error","registerUser","firstName","lastName","password","thenCallback","createUserWithEmailAndPassword","success","database","ref","user","uid","set","FirstName","LastName","EmailId","loginUser","catchCallback","console","log","signInWithEmailAndPassword","AsyncStorage","setItem","code","forgotPassword","sendPasswordResetEmail","signOut","callback","storeProfileImage","imgSource","currentUser","update","ProfileImage","fetchUserData","on","snapshot","val"],"mappings":"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","sourcesContent":["import firebase from './Firebase';\nimport AsyncStorage from '@react-native-community/async-storage';\n\nexport function emailExistance(email, ifCallback, elseCallback) {\n    firebase.auth().fetchSignInMethodsForEmail(email)\n        .then(function (signInMethods) {\n            if (signInMethods.indexOf(\n                firebase.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD) === -1) {\n                ifCallback();\n            }\n            else {\n                let errors = {};\n                errors[\"email\"] = 'That username is taken, try another';\n                elseCallback(errors)\n            }\n        }).catch((error) => { })\n}\n\nexport function registerUser(firstName, lastName, email, password, thenCallback) {\n    firebase.auth().createUserWithEmailAndPassword(email, password)\n        .then((success) => {\n            firebase.database().ref('/users/' + success.user.uid + '/PersonalData/').set({\n                FirstName: firstName,\n                LastName: lastName,\n                EmailId: email\n            })\n            thenCallback()\n        }).catch((error) => { })\n}\n\nexport function loginUser(email, password, thenCallback, catchCallback) {\n    console.log(email)\n    console.log(password)\n    firebase.auth().signInWithEmailAndPassword(email, password).then(async (success) => {\n        await AsyncStorage.setItem('isAuth', 'true')\n        await AsyncStorage.setItem('uid', success.user.uid)\n        thenCallback()\n    })\n        .catch((error) => {\n            let errors = {};\n            if (error.code === 'auth/user-not-found')\n                errors[\"email\"] = 'Couldn\\'t find your Fundoo Account'\n            else\n                errors[\"password\"] = 'Wrong password. Try again or click Forgot password to reset it.'\n            catchCallback(errors)\n        })\n}\n\nexport function forgotPassword(email, thenCallback, catchCallback) {\n\n    firebase.auth().sendPasswordResetEmail(email)\n        .then((error) => {\n            thenCallback()\n        })\n        .catch(() => {\n            let errors = {};\n            errors[\"email\"] = 'Couldn\\'t find your Fundoo Account'\n            catchCallback(errors)\n        })\n\n}\n\nexport function signOut(callback) {\n    firebase.auth().signOut().then(() => {\n        callback()\n    })\n        .catch()\n}\n\nexport function storeProfileImage(imgSource) {\n    const uid = firebase.auth().currentUser.uid\n    firebase.database().ref('/users/' + uid + '/PersonalData/').update({\n        ProfileImage: imgSource\n    })\n}\n\nexport function fetchUserData(uid, callback) {\n    firebase.database().ref('/users/' + uid + '/PersonalData/')\n        .on('value', snapshot => {\n            callback(snapshot.val())\n        })\n}\n\n"]}